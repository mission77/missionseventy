<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preload" as="image" href="logoz.png">
  <title>Mission Seventy — The Laboratory</title>
  
  <meta property="og:type" content="website">
  <meta property="og:title" id="ogTitle" content="Mission Seventy — The Laboratory">
  <meta property="og:description" id="ogDescription" content="Systems, Faith, and Software. The workshop of a builder.">
  <meta property="og:image" id="ogImage" content="https://missionseventy.com/logoz.png">
  <meta property="og:url" id="ogUrl" content="https://missionseventy.com">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" id="twitterTitle" content="Mission Seventy — The Laboratory">
  <meta name="twitter:description" id="twitterDescription" content="Systems, Faith, and Software. The workshop of a builder.">
  <meta name="twitter:image" content="https://missionseventy.com/logoz.png">

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-D1KZK5NV5L"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-D1KZK5NV5L');
  </script>
  <script defer src="https://cloud.umami.is/script.js" data-website-id="217b616f-3ce0-43cb-bb93-1dc5d77f1d18"></script>
  
  <style>
    /* --- SYSTEM VARIABLES --- */
    :root {
      --sidebar-bg: #0a0a0a;
      --sidebar-text: #e0e0e0;
      --canvas-bg: #fdfdfc;
      --card-bg: #ffffff;
      --text-main: #111111;
      --text-muted: #666666;
      --accent: #FDB515;
      --accent-hover: #e5a213;
      --border: #e5e5e5;
      --line: rgba(0,0,0,0.04);
      
      --font-display: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      --font-body: 'Georgia', serif;
      --font-mono: 'Courier New', Courier, monospace;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body { 
      background: var(--canvas-bg); 
      color: var(--text-main); 
      display: flex; 
      min-height: 100vh;
      font-family: var(--font-display);
    }

    /* --- SIDEBAR --- */
    .sidebar {
      width: 300px; height: 100vh; background: var(--sidebar-bg); color: var(--sidebar-text);
      position: sticky; top: 0; display: flex; flex-direction: column; justify-content: space-between;
      padding: 40px 30px; z-index: 100; flex-shrink: 0;
    }

    .brand { display: flex; align-items: center; gap: 15px; margin-bottom: 30px; cursor: pointer; }
    .brand img { width: 48px; height: 48px; border-radius: 50%; border: 2px solid var(--accent); }
    .brand-text h1 { font-size: 15px; font-weight: 700; color: #fff; letter-spacing: 1px; text-transform: uppercase; }
    
    .status-badge { font-family: var(--font-mono); font-size: 10px; color: var(--accent); margin-top: 5px; display: flex; align-items: center; gap: 6px; }
    .status-dot { width: 6px; height: 6px; background: var(--accent); border-radius: 50%; box-shadow: 0 0 5px var(--accent); animation: pulse 2s infinite; }
    @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

    .nav-menu { display: flex; flex-direction: column; gap: 2px; }
    .nav-item {
      display: flex; align-items: center; justify-content: space-between;
      padding: 16px 0; color: #777; font-size: 12px; font-weight: 700;
      letter-spacing: 1.5px; text-transform: uppercase; border-bottom: 1px solid #222;
      transition: all 0.2s; cursor: pointer;
    }
    .nav-item:hover { color: #fff; padding-left: 5px; }
    .nav-item.active { color: var(--accent); border-bottom: 1px solid var(--accent); padding-left: 5px; }
    .nav-num { font-family: var(--font-mono); font-size: 10px; opacity: 0.4; }

    .sidebar-footer { margin-top: auto; }
    .focus-widget { background: #151515; padding: 20px; border-radius: 4px; margin-bottom: 25px; border-left: 2px solid var(--accent); }
    .focus-label { font-size: 9px; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; font-weight: 700; }
    .focus-value { font-size: 13px; color: #fff; line-height: 1.5; font-family: var(--font-body); font-style: italic; }
    
    .socials { display: flex; gap: 15px; margin-top: 20px; }
    .social-icon { color: #555; transition: 0.2s; text-decoration: none; }
    .social-icon:hover { color: var(--accent); transform: scale(1.1); }
    .social-icon svg { width: 20px; height: 20px; fill: currentColor; }

    /* --- WORKSPACE --- */
    .workspace {
      flex: 1; height: 100vh; overflow-y: auto; padding: 40px 60px;
      position: relative; background-image: linear-gradient(var(--line) 1px, transparent 1px), linear-gradient(90deg, var(--line) 1px, transparent 1px);
      background-size: 40px 40px; 
    }

    .top-bar {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 40px; padding-bottom: 15px; border-bottom: 2px solid var(--text-main);
    }
    .hijri-display {
      font-family: var(--font-mono); font-size: 13px; color: #000;
      background: var(--accent); padding: 6px 12px; font-weight: 700; text-transform: uppercase;
    }
    .search-wrap input {
      background: transparent; border: none; border-bottom: 1px solid #ccc;
      padding: 8px 0; font-family: var(--font-mono); font-size: 14px; width: 250px;
      color: var(--text-main); transition: 0.2s;
    }
    .search-wrap input:focus { outline: none; border-bottom: 1px solid var(--text-main); width: 300px; }
    
    .section-title {
      font-size: 48px; font-weight: 800; line-height: 1; margin-bottom: 30px;
      letter-spacing: -1.5px; color: var(--text-main);
    }

    /* --- FEED STYLE --- */
    .log-entry {
      background: var(--card-bg); border: 1px solid var(--text-main); padding: 30px;
      margin-bottom: 25px; transition: all 0.3s; cursor: pointer;
      box-shadow: 4px 4px 0 rgba(0,0,0,0.05); display: flex; flex-direction: column;
    }
    .log-entry:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0 var(--accent); }

    .entry-title { font-size: 24px; font-weight: 700; margin-bottom: 10px; line-height: 1.3; }
    .entry-excerpt { font-family: var(--font-body); font-size: 16px; color: var(--text-muted); line-height: 1.6; margin-bottom: 20px; flex-grow: 1; }
    .entry-footer {
      border-top: 1px solid #eee; padding-top: 10px; margin-top: 10px;
      font-family: var(--font-mono); font-size: 11px; color: #888; text-transform: uppercase;
      display: flex; justify-content: space-between;
    }

    /* --- PRODUCT CARD --- */
    .system-card {
      background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%); 
      color: #fff; padding: 40px; margin-bottom: 40px;
      display: grid; grid-template-columns: 1fr auto; gap: 30px; align-items: center;
      position: relative; overflow: hidden; border-radius: 8px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    .system-card::before { 
      content: ""; position: absolute; top: 0; left: 0; width: 4px; height: 100%; 
      background: var(--accent); box-shadow: 0 0 20px var(--accent);
    }
    .system-info h3 { font-size: 26px; margin-bottom: 10px; color: #fff; letter-spacing: -0.5px; }
    .system-info p { color: #ccc; font-family: var(--font-body); font-size: 15px; line-height: 1.5; max-width: 550px; }
    .system-action a {
      background: var(--accent); color: #000; text-decoration: none; padding: 14px 28px;
      font-weight: 800; font-size: 12px; display: inline-block; text-transform: uppercase;
      letter-spacing: 1px; transition: all 0.3s; border-radius: 4px;
    }
    .system-action a:hover { transform: scale(1.05); background: #fff; box-shadow: 0 4px 15px rgba(253, 181, 21, 0.4); }

    /* --- SINGLE POST --- */
    .single-view { display: none; background: #fff; padding: 60px; border: 1px solid var(--border); max-width: 850px; margin: 0 auto; }
    .single-view.active { display: block; animation: fadeIn 0.4s ease; }
    
    .back-link { 
      display: inline-flex; align-items: center; gap: 8px;
      font-family: var(--font-mono); font-size: 11px; font-weight: 700; 
      color: var(--text-muted); cursor: pointer; margin-bottom: 40px; 
      text-transform: uppercase; letter-spacing: 1px; transition: all 0.2s;
    }
    .back-link:hover { color: var(--accent); transform: translateX(-3px); }
    
    .article-header { margin-bottom: 20px; }
    .article-body { font-family: var(--font-body); font-size: 20px; line-height: 1.7; color: #222; }
    .article-body p { margin-bottom: 28px; max-width: 700px; } 
    
    /* DATE AT THE BOTTOM OF POST */
    .article-date-footer { 
      font-family: var(--font-mono); color: var(--accent); font-weight: 700; font-size: 12px; 
      margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee; 
      display: block; text-align: right; text-transform: uppercase; letter-spacing: 1px;
    }

    /* Post Navigation (Next/Prev) */
    .post-nav { margin-top: 30px; padding-top: 10px; display: flex; justify-content: space-between; gap: 20px; }
    .nav-btn { flex: 1; padding: 20px; border: 1px solid #eee; cursor: pointer; transition: 0.2s; text-align: left; }
    .nav-btn:hover:not(.disabled) { border-color: var(--accent); background: #fafafa; }
    .nav-btn.disabled { opacity: 0.3; pointer-events: none; border-color: #eee; }
    .nav-label { font-family: var(--font-mono); font-size: 10px; color: #888; text-transform: uppercase; display: block; margin-bottom: 5px; }
    .nav-title { font-size: 14px; font-weight: 700; color: #000; }
    .nav-btn.next { text-align: right; }

    /* Share Section */
    .share-section { 
      margin-top: 40px; padding: 25px; background: #fafafa; border-radius: 6px; 
      display: flex; align-items: center; justify-content: space-between; gap: 15px;
      border: 1px solid #eee;
    }
    .share-label { font-family: var(--font-mono); font-size: 11px; font-weight: 700; text-transform: uppercase; color: var(--text-muted); }
    .share-buttons { display: flex; gap: 10px; align-items: center; }
    .copy-btn { 
      background: #fff; border: 1px solid #ddd; padding: 10px 18px; 
      font-size: 12px; font-weight: 700; cursor: pointer; transition: 0.2s; 
      border-radius: 4px; font-family: var(--font-mono);
    }
    .copy-btn:hover { border-color: var(--accent); color: var(--accent); transform: translateY(-1px); }
    .share-icon-btn { 
      width: 36px; height: 36px; background: var(--text-main); color: white; 
      border-radius: 4px; display: flex; align-items: center; justify-content: center; 
      text-decoration: none; transition: all 0.2s; cursor: pointer; border: none;
    }
    .share-icon-btn svg { width: 18px; height: 18px; fill: currentColor; }
    .share-icon-btn:hover { background: var(--accent); transform: scale(1.1); }

    /* --- ABOUT & PROJECTS --- */
    .mission-text p { font-size: 20px; line-height: 1.7; margin-bottom: 25px; font-family: var(--font-body); color: #222; }
    .mission-list { list-style: none; margin: 30px 0; border-left: 3px solid var(--accent); padding-left: 20px; }
    .mission-list li { font-family: var(--font-display); font-size: 18px; font-weight: 700; margin-bottom: 12px; color: #111; }

    .project-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; }
    .project-card { 
      background: #fff; border: 1px solid var(--border); padding: 35px; 
      display: flex; flex-direction: column; justify-content: space-between; height: 100%; 
      transition: all 0.3s; border-radius: 6px;
    }
    .project-card:hover { border-color: var(--accent); transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
    .project-card h3 { font-size: 24px; margin-bottom: 8px; }
    .project-tag { 
      font-family: var(--font-mono); font-size: 10px; color: #fff; background: #000; 
      padding: 4px 8px; display: inline-block; margin-bottom: 15px; text-transform: uppercase; 
    }
    .project-desc { font-family: var(--font-body); font-size: 16px; color: var(--text-muted); margin-bottom: 25px; line-height: 1.5; }
    .project-link { 
      font-size: 12px; font-weight: 800; color: var(--text-main); text-decoration: none; 
      border-bottom: 3px solid var(--accent); padding-bottom: 2px; align-self: flex-start; 
      text-transform: uppercase; letter-spacing: 1px; transition: all 0.2s;
    }
    .project-link:hover { color: var(--accent); }

    /* Sections Visibility */
    #postsSection, #aboutSection, #projectsSection, #searchResultsPage { display: none; }
    #postsSection.active, #aboutSection.active, #projectsSection.active, #searchResultsPage.active { display: block; animation: fadeIn 0.4s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* --- MOBILE HEADER --- */
    .mobile-header {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: var(--sidebar-bg);
      z-index: 200;
      padding: 15px 20px;
      border-bottom: 2px solid var(--accent);
    }

    .mobile-header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .mobile-brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .mobile-brand img {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid var(--accent);
    }

    .mobile-brand-text h1 {
      font-size: 12px;
      color: #fff;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .mobile-date {
      font-family: var(--font-mono);
      font-size: 9px;
      color: var(--accent);
      background: #151515;
      padding: 4px 8px;
      border-radius: 3px;
    }

    .mobile-nav {
      display: none;
      position: fixed;
      top: 70px;
      left: 0;
      right: 0;
      background: var(--sidebar-bg);
      border-bottom: 1px solid #333;
      padding: 10px 20px;
      z-index: 199;
    }

    .mobile-nav.active {
      display: flex;
      gap: 5px;
      justify-content: space-around;
    }

    .mobile-nav-item {
      flex: 1;
      padding: 12px 8px;
      text-align: center;
      font-size: 10px;
      font-weight: 700;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      color: #777;
      border-bottom: 2px solid transparent;
      transition: all 0.2s;
      cursor: pointer;
    }

    .mobile-nav-item.active {
      color: var(--accent);
      border-bottom-color: var(--accent);
    }

    .mobile-footer {
      display: none;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--sidebar-bg);
      border-top: 1px solid #333;
      padding: 15px 20px;
      z-index: 199;
    }

    .mobile-socials {
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    .menu-toggle {
      background: none;
      border: none;
      color: var(--accent);
      font-size: 24px;
      cursor: pointer;
      padding: 5px;
    }

    /* --- RESPONSIVE MOBILE LAYOUT --- */
    @media (max-width: 900px) {
      body { flex-direction: column; padding-top: 70px; padding-bottom: 65px; }
      
      .sidebar { display: none; }
      
      .mobile-header { display: block; }
      .mobile-footer { display: block; }
      
      .workspace { 
        padding: 20px 16px; 
        height: auto; 
        background-image: none;
        overflow-y: visible;
      }
      
      .top-bar { 
        margin-bottom: 25px; 
        padding-bottom: 12px; 
        border-bottom: 1px solid var(--border);
        flex-direction: column;
        gap: 12px;
        align-items: stretch;
      }
      
      .hijri-display { display: none; }
      
      .search-wrap { width: 100%; }
      .search-wrap input { 
        width: 100%; 
        font-size: 13px; 
        padding: 10px 0;
      }
      .search-wrap input:focus { width: 100%; }
      
      .section-title { 
        font-size: 32px; 
        margin-bottom: 20px; 
        letter-spacing: -1px; 
      }
      
      .log-entry { 
        padding: 20px; 
        margin-bottom: 18px;
      }
      .log-entry:hover { 
        transform: translate(-1px, -1px); 
        box-shadow: 4px 4px 0 var(--accent); 
      }
      
      .entry-title { font-size: 20px; margin-bottom: 8px; }
      .entry-excerpt { font-size: 15px; margin-bottom: 15px; }
      .entry-footer { font-size: 10px; }
      
      .system-card { 
        grid-template-columns: 1fr; 
        padding: 25px 20px; 
        gap: 20px; 
        text-align: center;
      }
      .system-info p { max-width: 100%; }
      .system-action { width: 100%; }
      .system-action a { display: block; width: 100%; }
      
      .single-view { 
        padding: 20px 16px; 
        border: none; 
        box-shadow: none;
      }
      
      .article-body { font-size: 17px; line-height: 1.7; }
      .article-body p { margin-bottom: 20px; }
      
      .post-nav { 
        flex-direction: column; 
        gap: 12px;
        margin-top: 20px;
      }
      .nav-btn { padding: 15px; }
      .nav-btn.next { text-align: left; }
      
      .share-section { 
        flex-direction: column; 
        padding: 20px; 
        gap: 12px;
        align-items: stretch;
      }
      .share-buttons { 
        justify-content: center; 
        flex-wrap: wrap;
      }
      .copy-btn { flex: 1; min-width: 120px; }
      
      .mission-text p { font-size: 17px; line-height: 1.7; }
      .mission-list { padding-left: 15px; }
      .mission-list li { font-size: 16px; }
      
      .project-grid { 
        grid-template-columns: 1fr; 
        gap: 20px;
      }
      .project-card { padding: 25px 20px; }
    }
  </style>
</head>
<body>

  <!-- Mobile Header -->
  <header class="mobile-header">
    <div class="mobile-header-content">
      <div class="mobile-brand" id="mobileLogoClick">
        <img src="logoz.png" alt="M70">
        <div class="mobile-brand-text">
          <h1>Mission Seventy</h1>
        </div>
      </div>
      <div class="mobile-date" id="mobileDateDisplay"></div>
      <button class="menu-toggle" id="menuToggle">☰</button>
    </div>
  </header>

  <!-- Mobile Navigation -->
  <nav class="mobile-nav" id="mobileNav">
    <div class="mobile-nav-item active" data-tab="blog">Logbook</div>
    <div class="mobile-nav-item" data-tab="project">Shipments</div>
    <div class="mobile-nav-item" data-tab="about">Mission</div>
  </nav>

  <!-- Mobile Footer with Socials -->
  <footer class="mobile-footer">
    <div class="mobile-socials">
      <a href="https://www.instagram.com/missionseventy" target="_blank" class="social-icon" title="Instagram" aria-label="Instagram">
        <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
      </a>
      
      <a href="https://www.tiktok.com/@missionseventy" target="_blank" class="social-icon" title="TikTok" aria-label="TikTok">
        <svg viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>
      </a>
    </div>
  </footer>

  <aside class="sidebar">
    <div>
      <div class="brand" id="logoClick">
        <img src="logoz.png" alt="M70">
        <div class="brand-text">
          <h1>Mission Seventy</h1>
          <div class="status-badge">
            <div class="status-dot"></div>
            <span>STATUS: ACTIVE</span>
          </div>
        </div>
      </div>

      <nav class="nav-menu">
        <div class="nav-item active" data-tab="blog">
          <span>Logbook</span>
          <span class="nav-num">01</span>
        </div>
        <div class="nav-item" data-tab="project">
          <span>Shipments</span>
          <span class="nav-num">02</span>
        </div>
        <div class="nav-item" data-tab="about">
          <span>The Mission</span>
          <span class="nav-num">03</span>
        </div>
      </nav>
    </div>

    <div class="sidebar-footer">
      <div class="focus-widget">
        <div class="focus-label">Current Objective</div>
        <div class="focus-value">Building Nurayni platform.</div>
      </div>

      <div class="socials">
        <a href="https://www.instagram.com/missionseventy" target="_blank" class="social-icon" title="Instagram" aria-label="Instagram">
          <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
        </a>
        
        <a href="https://www.tiktok.com/@missionseventy" target="_blank" class="social-icon" title="TikTok" aria-label="TikTok">
          <svg viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>
        </a>
      </div>
    </div>
  </aside>

  <main class="workspace">
    
    <div class="top-bar">
      <div class="search-wrap">
        <input type="text" id="searchInput" placeholder="Search logs...">
      </div>
      <div class="hijri-display" id="dateDisplay"></div>
    </div>

    <div id="postsSection" class="active">
      <h2 class="section-title">The Laboratory.</h2>
      
      <div class="system-card">
        <div class="system-info">
          <h3>The Seventy System</h3>
          <p>Never wonder what to post again. A 7x11 content framework designed for consistent output without burnout. Used by builders, writers, and thinkers.</p>
        </div>
        <div class="system-action">
          <a href="https://missionseventy.gumroad.com/l/cpseyb" target="_blank">Access System ($21)</a>
        </div>
      </div>

      <div id="postsFeed"></div>
    </div>

    <div id="projectsSection">
      <h2 class="section-title">Shipments.</h2>
      <div class="project-grid">
        <div class="project-card">
          <div>
            <span class="project-tag">LIVE</span>
            <h3>Qiblatak</h3>
            <p class="project-desc">A minimal, privacy-focused Qibla finder and prayer time utility. Built for focus, accurate from any location.</p>
          </div>
          <a href="https://qiblatak.com" target="_blank" class="project-link">Launch App →</a>
        </div>
        <div class="project-card">
          <div>
            <span class="project-tag">BUILDING</span>
            <h3>Nurayni</h3>
            <p class="project-desc">Authentic Islamic wisdom and reflection. A platform dedicated to nurturing Iman through the two lights.</p>
          </div>
          <span class="project-link" style="color:#aaa; border-color:#aaa; cursor:default">In Progress</span>
        </div>
      </div>
    </div>

    <div id="aboutSection">
      <h2 class="section-title">The Mission.</h2>
      
      <div class="single-view active" style="margin:0; width:100%; max-width:100%; padding:0; box-shadow:none; border:none; animation:none;">
        <div class="mission-text">
          <p><strong>BISMILLAH.</strong></p>
          <p>Mission Seventy is my laboratory for making what matters work. This blog is where I share observations on faith, building, and finding solutions.</p>
          
          <ul class="mission-list">
             <li>As a builder, I write to think clearly.</li>
             <li>To see ideas in the open.</li>
             <li>To refine them.</li>
           </ul>

          <p>This is my main platform beyond social media. Here you'll find finished projects, upcoming work, and resources; some free, some paid.</p>
          
          <p>I build in public to refine my understanding. Corrections and discourse are always welcome.</p>
          
          <p style="margin-top: 40px; font-style: italic; color: #666;">Ahlan wa sahlan, Ha dhawaaw/Soo dhawoow, Karibu, welcome.</p>
        </div>
      </div>
    </div>

    <div class="single-view" id="singlePostView">
      <div class="back-link" id="backBtn"><span>← Return to Log</span></div>
      
      <h1 style="font-size: 38px; font-weight: 700; line-height: 1.2;" id="singlePostTitle"></h1>
      
      <div class="article-body" id="singlePostBody" style="margin-top: 30px;"></div>

      <div class="article-date-footer" id="singlePostDate"></div>
      
      <div class="share-section">
        <span class="share-label">Share this log</span>
        <div class="share-buttons">
          <button class="copy-btn" id="shareCopyBtn">COPY LINK</button>
          <a class="share-icon-btn" id="shareTwitter" target="_blank" title="Share on Twitter" aria-label="Share on Twitter">
            <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          </a>
          <a class="share-icon-btn" id="shareLinkedIn" target="_blank" title="Share on LinkedIn" aria-label="Share on LinkedIn">
            <svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
          </a>
        </div>
      </div>

      <div class="post-nav">
        <div class="nav-btn prev" id="prevPostBtn">
          <span class="nav-label">Previous Log</span>
          <div class="nav-title" id="prevPostTitle">Title</div>
        </div>
        <div class="nav-btn next" id="nextPostBtn">
          <span class="nav-label">Next Log</span>
          <div class="nav-title" id="nextPostTitle">Title</div>
        </div>
      </div>
    </div>

    <div id="searchResultsPage">
      <h2 class="section-title">Query Results.</h2>
      <div id="searchResultsList"></div>
      <div class="back-link" id="clearSearchBtn" style="margin-top: 20px;">CLEAR SEARCH</div>
    </div>

  </main>

  <script src="posts.js"></script>
  <script>
    // --- APP CONTROLLER ---
    const app = {
      views: {
        blog: document.getElementById('postsSection'),
        project: document.getElementById('projectsSection'),
        about: document.getElementById('aboutSection'),
        single: document.getElementById('singlePostView'),
        search: document.getElementById('searchResultsPage')
      },
      nav: document.querySelectorAll('.nav-item'),
      mobileNav: document.querySelectorAll('.mobile-nav-item'),
      feed: document.getElementById('postsFeed'),
      dateEl: document.getElementById('dateDisplay'),
      mobileDateEl: document.getElementById('mobileDateDisplay'),
      currentPostIndex: -1
    };

    // --- INITIALIZATION ---
    function init() {
      renderHijriDate();
      renderFeed();
      setupListeners();
      checkUrlParams();
    }

    // --- HIJRI DATE (Proper format with fallback calculation) ---
    function renderHijriDate() {
      try {
        const now = new Date();
        
        // Try modern Intl API first
        try {
          const formatter = new Intl.DateTimeFormat('en-u-ca-islamic-umalqura', {
            day: 'numeric',
            month: 'long',
            year: 'numeric'
          });
          
          const hijriDate = formatter.format(now);
          
          // Check if it actually returned a valid Hijri date
          if (hijriDate && !hijriDate.toLowerCase().includes('january') && !hijriDate.includes('1970')) {
            // Format: "4 Jumada Al-Akhirah, 1447"
            const formattedDate = hijriDate.replace(/(\d+)\s+([A-Za-z\s-]+)\s+(\d+)/, '$1 $2, $3');
            
            // Desktop
            if (app.dateEl) {
              app.dateEl.textContent = formattedDate.toUpperCase();
            }
            
            // Mobile - same format
            if (app.mobileDateEl) {
              app.mobileDateEl.textContent = formattedDate.toUpperCase();
            }
            return; // Success!
          }
        } catch (e) {
          console.log('Intl Hijri not supported, using manual calculation');
        }
        
        // Manual Hijri calculation fallback (Umm al-Qura algorithm approximation)
        const hijriDate = gregorianToHijri(now);
        const hijriMonths = [
          'Muharram', 'Safar', 'Rabi Al-Awwal', 'Rabi Al-Thani', 
          'Jumada Al-Awwal', 'Jumada Al-Akhirah', 'Rajab', 'Shaban', 
          'Ramadan', 'Shawwal', 'Dhul Qadah', 'Dhul Hijjah'
        ];
        
        const fullDate = `${hijriDate.day} ${hijriMonths[hijriDate.month - 1]}, ${hijriDate.year}`;
        
        if (app.dateEl) {
          app.dateEl.textContent = fullDate.toUpperCase();
        }
        
        if (app.mobileDateEl) {
          app.mobileDateEl.textContent = fullDate.toUpperCase();
        }
        
      } catch (e) {
        console.error('Hijri date error:', e);
        // Final fallback to Gregorian
        const fallback = new Date().toLocaleDateString('en-US', { 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        });
        
        if (app.dateEl) app.dateEl.textContent = fallback.toUpperCase();
        if (app.mobileDateEl) app.mobileDateEl.textContent = fallback.toUpperCase();
      }
    }

    // Manual Hijri conversion (Umm al-Qura approximation)
    function gregorianToHijri(date) {
      // Julian day calculation
      const year = date.getFullYear();
      const month = date.getMonth() + 1;
      const day = date.getDate();
      
      let a = Math.floor((14 - month) / 12);
      let y = year + 4800 - a;
      let m = month + 12 * a - 3;
      
      let jd = day + Math.floor((153 * m + 2) / 5) + 365 * y + Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400) - 32045;
      
      // Convert Julian day to Hijri
      let l = jd - 1948440 + 10632;
      let n = Math.floor((l - 1) / 10631);
      l = l - 10631 * n + 354;
      let j = (Math.floor((10985 - l) / 5316)) * (Math.floor((50 * l) / 17719)) + (Math.floor(l / 5670)) * (Math.floor((43 * l) / 15238));
      l = l - (Math.floor((30 - j) / 15)) * (Math.floor((17719 * j) / 50)) - (Math.floor(j / 16)) * (Math.floor((15238 * j) / 43)) + 29;
      m = Math.floor((24 * l) / 709);
      let d = l - Math.floor((709 * m) / 24);
      y = 30 * n + j - 30;
      
      return { day: d, month: m, year: y };
    }

    // --- FEED RENDERER ---
    function renderFeed() {
      if (typeof posts === 'undefined' || posts.length === 0) {
        app.feed.innerHTML = '<div class="log-entry" style="padding: 20px; border: 1px solid #ccc; font-family:var(--font-mono); color: var(--text-muted); text-align:center;">NO LOGS FOUND. PUBLISH YOUR FIRST POST.</div>';
        return;
      }

      app.feed.innerHTML = '';
      const sortedPosts = [...posts].sort((a, b) => b.id - a.id);

      sortedPosts.forEach(post => {
        const el = document.createElement('div');
        el.className = 'log-entry';
        el.innerHTML = `
          <h3 class="entry-title">${post.title}</h3>
          <div class="entry-excerpt">${post.excerpt}</div>
          <div class="entry-footer">
             <div>LOG #${String(post.id).padStart(3, '0')}</div>
             <div>${post.date.split(' / ')[0]}</div>
          </div>
        `;
        el.onclick = () => openPost(post);
        app.feed.appendChild(el);
      });
    }

    // --- NAVIGATION & META TAGS ---
    function updateMetaTags(post) {
      const postUrl = window.location.origin + window.location.pathname + '?post=' + post.id;
      const postDescription = post.excerpt;
      const postTitle = post.title + " — Mission Seventy";
      
      document.title = postTitle;

      // Open Graph
      document.querySelector('#ogTitle').setAttribute('content', postTitle);
      document.querySelector('#ogDescription').setAttribute('content', postDescription);
      document.querySelector('#ogUrl').setAttribute('content', postUrl);
      
      // Twitter Card
      document.querySelector('#twitterTitle').setAttribute('content', postTitle);
      document.querySelector('#twitterDescription').setAttribute('content', postDescription);
    }

    function openPost(post) {
      Object.values(app.views).forEach(el => el.classList.remove('active'));
      app.views.single.classList.add('active');
      
      document.getElementById('singlePostTitle').textContent = post.title;
      document.getElementById('singlePostDate').textContent = post.date;
      document.getElementById('singlePostBody').innerHTML = post.body;
      
      window.history.pushState({postId: post.id}, post.title, `?post=${post.id}`);
      updateMetaTags(post);
      window.scrollTo(0,0);

      const index = posts.findIndex(p => p.id === post.id);
      app.currentPostIndex = index;
      updatePostNavigation(index);
      setupShareButtons(post);
    }

    function updatePostNavigation(currentIndex) {
      const prevBtn = document.getElementById('prevPostBtn');
      const nextBtn = document.getElementById('nextPostBtn');
      
      if (currentIndex > 0) {
        const newer = posts[currentIndex - 1];
        prevBtn.classList.remove('disabled');
        document.getElementById('prevPostTitle').textContent = newer.title;
        prevBtn.onclick = () => openPost(newer);
      } else {
        prevBtn.classList.add('disabled');
        document.getElementById('prevPostTitle').textContent = "None";
      }

      if (currentIndex < posts.length - 1) {
        const older = posts[currentIndex + 1];
        nextBtn.classList.remove('disabled');
        document.getElementById('nextPostTitle').textContent = older.title;
        nextBtn.onclick = () => openPost(older);
      } else {
        nextBtn.classList.add('disabled');
        document.getElementById('nextPostTitle').textContent = "None";
      }
    }

    function setupShareButtons(post) {
      const postUrl = window.location.href;
      const shareText = `${post.title}: ${post.excerpt}`;
      
      // Twitter/X share
      const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(postUrl)}`;
      document.getElementById('shareTwitter').href = twitterUrl;
      
      // LinkedIn share
      const linkedinUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(postUrl)}`;
      document.getElementById('shareLinkedIn').href = linkedinUrl;
    }

    function closePost() {
      switchTab('blog');
      document.title = 'Mission Seventy — The Laboratory';
      document.querySelector('#ogTitle').setAttribute('content', "Mission Seventy — The Laboratory");
      document.querySelector('#ogDescription').setAttribute('content', "Systems, Faith, and Software. The workshop of a builder.");
      document.querySelector('#twitterTitle').setAttribute('content', "Mission Seventy — The Laboratory");
      document.querySelector('#twitterDescription').setAttribute('content', "Systems, Faith, and Software. The workshop of a builder.");
      history.pushState(null, null, window.location.pathname); 
    }

    function switchTab(tabName) {
      app.nav.forEach(el => el.classList.toggle('active', el.dataset.tab === tabName));
      app.mobileNav.forEach(el => el.classList.toggle('active', el.dataset.tab === tabName));
      Object.values(app.views).forEach(el => el.classList.remove('active'));
      if(app.views[tabName]) app.views[tabName].classList.add('active');
      window.scrollTo(0,0);
      
      // Close mobile menu after selection
      document.getElementById('mobileNav').classList.remove('active');
    }

    // --- SEARCH FUNCTIONALITY ---
    function runSearch(query) {
      if (!query || query.trim() === '') return;
      
      const results = posts.filter(post => 
        post.title.toLowerCase().includes(query) ||
        post.excerpt.toLowerCase().includes(query) ||
        post.body.toLowerCase().includes(query)
      );

      const resultsList = document.getElementById('searchResultsList');
      
      if (results.length === 0) {
        resultsList.innerHTML = '<div class="log-entry" style="text-align:center; color: var(--text-muted);">No results found for "' + query + '"</div>';
      } else {
        resultsList.innerHTML = '';
        results.forEach(post => {
          const el = document.createElement('div');
          el.className = 'log-entry';
          el.innerHTML = `
            <h3 class="entry-title">${post.title}</h3>
            <div class="entry-excerpt">${post.excerpt}</div>
            <div class="entry-footer">
               <div>LOG #${String(post.id).padStart(3, '0')}</div>
               <div>${post.date.split(' / ')[0]}</div>
            </div>
          `;
          el.onclick = () => openPost(post);
          resultsList.appendChild(el);
        });
      }
      
      Object.values(app.views).forEach(el => el.classList.remove('active'));
      app.views.search.classList.add('active');
    }

    // --- LISTENERS ---
    function setupListeners() {
      // Desktop nav
      app.nav.forEach(btn => btn.addEventListener('click', (e) => switchTab(btn.dataset.tab)));
      
      // Mobile nav
      app.mobileNav.forEach(btn => btn.addEventListener('click', (e) => switchTab(btn.dataset.tab)));
      
      // Logo clicks
      document.getElementById('logoClick').addEventListener('click', () => switchTab('blog'));
      document.getElementById('mobileLogoClick').addEventListener('click', () => switchTab('blog'));
      
      // Mobile menu toggle
      document.getElementById('menuToggle').addEventListener('click', () => {
        document.getElementById('mobileNav').classList.toggle('active');
      });
      
      document.getElementById('backBtn').addEventListener('click', closePost);
      document.getElementById('clearSearchBtn').addEventListener('click', () => switchTab('blog'));
      
      const searchInput = document.getElementById('searchInput');
      searchInput.addEventListener('keypress', (e) => { 
        if (e.key === 'Enter') {
          runSearch(searchInput.value.toLowerCase()); 
          searchInput.value = '';
        }
      });

      // Copy Link Button
      document.getElementById('shareCopyBtn').addEventListener('click', () => {
        const url = window.location.href;
        const post = posts.find(p => p.id == (new URLSearchParams(window.location.search)).get('post'));
        
        let shareText = url;
        if (post) {
          shareText = `${post.title}: ${post.excerpt}\n\nRead more: ${url}`;
        }

        navigator.clipboard.writeText(shareText).then(() => {
          const btn = document.getElementById('shareCopyBtn');
          const originalText = btn.textContent;
          btn.textContent = "COPIED!";
          btn.style.background = 'var(--accent)';
          btn.style.color = '#000';
          setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#fff';
            btn.style.color = '';
          }, 2000);
        }).catch(err => {
          console.error('Failed to copy:', err);
          alert('Failed to copy link');
        });
      });

      // Handle browser back/forward
      window.addEventListener('popstate', checkUrlParams);
    }

    function checkUrlParams() {
      const urlParams = new URLSearchParams(window.location.search);
      const postId = urlParams.get('post');
      if (postId && typeof posts !== 'undefined') {
        const post = posts.find(p => p.id == postId);
        if (post) {
          openPost(post);
        } else {
          switchTab('blog');
        }
      } else {
        switchTab('blog');
      }
    }

    init();
  </script>
</body>
</html>
